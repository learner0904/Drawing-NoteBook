{"ast":null,"code":"import { create } from \"../context.js\";\nimport { identity, number } from \"../options.js\";\nimport { Mark } from \"../mark.js\";\nimport { applyMarkers, markers } from \"../marker.js\";\nimport { applyDirectStyles, applyIndirectStyles, applyTransform, applyChannelStyles, offset } from \"../style.js\";\nconst defaults = {\n  ariaLabel: \"tick\",\n  fill: null,\n  stroke: \"currentColor\"\n};\nclass AbstractTick extends Mark {\n  constructor(data, channels, options) {\n    super(data, channels, options, defaults);\n    markers(this, options);\n  }\n  render(index, scales, channels, dimensions, context) {\n    return create(\"svg:g\", context).call(applyIndirectStyles, this, dimensions, context).call(this._transform, this, scales).call(g => g.selectAll().data(index).enter().append(\"line\").call(applyDirectStyles, this).attr(\"x1\", this._x1(scales, channels, dimensions)).attr(\"x2\", this._x2(scales, channels, dimensions)).attr(\"y1\", this._y1(scales, channels, dimensions)).attr(\"y2\", this._y2(scales, channels, dimensions)).call(applyChannelStyles, this, channels).call(applyMarkers, this, channels, context)).node();\n  }\n}\nexport class TickX extends AbstractTick {\n  constructor(data, options = {}) {\n    const {\n      x,\n      y,\n      inset = 0,\n      insetTop = inset,\n      insetBottom = inset\n    } = options;\n    super(data, {\n      x: {\n        value: x,\n        scale: \"x\"\n      },\n      y: {\n        value: y,\n        scale: \"y\",\n        type: \"band\",\n        optional: true\n      }\n    }, options);\n    this.insetTop = number(insetTop);\n    this.insetBottom = number(insetBottom);\n  }\n  _transform(selection, mark, {\n    x\n  }) {\n    selection.call(applyTransform, mark, {\n      x\n    }, offset, 0);\n  }\n  _x1(scales, {\n    x: X\n  }) {\n    return i => X[i];\n  }\n  _x2(scales, {\n    x: X\n  }) {\n    return i => X[i];\n  }\n  _y1({\n    y\n  }, {\n    y: Y\n  }, {\n    marginTop\n  }) {\n    const {\n      insetTop\n    } = this;\n    return Y && y ? i => Y[i] + insetTop : marginTop + insetTop;\n  }\n  _y2({\n    y\n  }, {\n    y: Y\n  }, {\n    height,\n    marginBottom\n  }) {\n    const {\n      insetBottom\n    } = this;\n    return Y && y ? i => Y[i] + y.bandwidth() - insetBottom : height - marginBottom - insetBottom;\n  }\n}\nexport class TickY extends AbstractTick {\n  constructor(data, options = {}) {\n    const {\n      x,\n      y,\n      inset = 0,\n      insetRight = inset,\n      insetLeft = inset\n    } = options;\n    super(data, {\n      y: {\n        value: y,\n        scale: \"y\"\n      },\n      x: {\n        value: x,\n        scale: \"x\",\n        type: \"band\",\n        optional: true\n      }\n    }, options);\n    this.insetRight = number(insetRight);\n    this.insetLeft = number(insetLeft);\n  }\n  _transform(selection, mark, {\n    y\n  }) {\n    selection.call(applyTransform, mark, {\n      y\n    }, 0, offset);\n  }\n  _x1({\n    x\n  }, {\n    x: X\n  }, {\n    marginLeft\n  }) {\n    const {\n      insetLeft\n    } = this;\n    return X && x ? i => X[i] + insetLeft : marginLeft + insetLeft;\n  }\n  _x2({\n    x\n  }, {\n    x: X\n  }, {\n    width,\n    marginRight\n  }) {\n    const {\n      insetRight\n    } = this;\n    return X && x ? i => X[i] + x.bandwidth() - insetRight : width - marginRight - insetRight;\n  }\n  _y1(scales, {\n    y: Y\n  }) {\n    return i => Y[i];\n  }\n  _y2(scales, {\n    y: Y\n  }) {\n    return i => Y[i];\n  }\n}\nexport function tickX(data, {\n  x = identity,\n  ...options\n} = {}) {\n  return new TickX(data, {\n    ...options,\n    x\n  });\n}\nexport function tickY(data, {\n  y = identity,\n  ...options\n} = {}) {\n  return new TickY(data, {\n    ...options,\n    y\n  });\n}","map":{"version":3,"names":["create","identity","number","Mark","applyMarkers","markers","applyDirectStyles","applyIndirectStyles","applyTransform","applyChannelStyles","offset","defaults","ariaLabel","fill","stroke","AbstractTick","constructor","data","channels","options","render","index","scales","dimensions","context","call","_transform","g","selectAll","enter","append","attr","_x1","_x2","_y1","_y2","node","TickX","x","y","inset","insetTop","insetBottom","value","scale","type","optional","selection","mark","X","i","Y","marginTop","height","marginBottom","bandwidth","TickY","insetRight","insetLeft","marginLeft","width","marginRight","tickX","tickY"],"sources":["D:/Notebooks/notebooks-web/vue/node_modules/@observablehq/plot/src/marks/tick.js"],"sourcesContent":["import {create} from \"../context.js\";\nimport {identity, number} from \"../options.js\";\nimport {Mark} from \"../mark.js\";\nimport {applyMarkers, markers} from \"../marker.js\";\nimport {applyDirectStyles, applyIndirectStyles, applyTransform, applyChannelStyles, offset} from \"../style.js\";\n\nconst defaults = {\n  ariaLabel: \"tick\",\n  fill: null,\n  stroke: \"currentColor\"\n};\n\nclass AbstractTick extends Mark {\n  constructor(data, channels, options) {\n    super(data, channels, options, defaults);\n    markers(this, options);\n  }\n  render(index, scales, channels, dimensions, context) {\n    return create(\"svg:g\", context)\n      .call(applyIndirectStyles, this, dimensions, context)\n      .call(this._transform, this, scales)\n      .call((g) =>\n        g\n          .selectAll()\n          .data(index)\n          .enter()\n          .append(\"line\")\n          .call(applyDirectStyles, this)\n          .attr(\"x1\", this._x1(scales, channels, dimensions))\n          .attr(\"x2\", this._x2(scales, channels, dimensions))\n          .attr(\"y1\", this._y1(scales, channels, dimensions))\n          .attr(\"y2\", this._y2(scales, channels, dimensions))\n          .call(applyChannelStyles, this, channels)\n          .call(applyMarkers, this, channels, context)\n      )\n      .node();\n  }\n}\n\nexport class TickX extends AbstractTick {\n  constructor(data, options = {}) {\n    const {x, y, inset = 0, insetTop = inset, insetBottom = inset} = options;\n    super(\n      data,\n      {\n        x: {value: x, scale: \"x\"},\n        y: {value: y, scale: \"y\", type: \"band\", optional: true}\n      },\n      options\n    );\n    this.insetTop = number(insetTop);\n    this.insetBottom = number(insetBottom);\n  }\n  _transform(selection, mark, {x}) {\n    selection.call(applyTransform, mark, {x}, offset, 0);\n  }\n  _x1(scales, {x: X}) {\n    return (i) => X[i];\n  }\n  _x2(scales, {x: X}) {\n    return (i) => X[i];\n  }\n  _y1({y}, {y: Y}, {marginTop}) {\n    const {insetTop} = this;\n    return Y && y ? (i) => Y[i] + insetTop : marginTop + insetTop;\n  }\n  _y2({y}, {y: Y}, {height, marginBottom}) {\n    const {insetBottom} = this;\n    return Y && y ? (i) => Y[i] + y.bandwidth() - insetBottom : height - marginBottom - insetBottom;\n  }\n}\n\nexport class TickY extends AbstractTick {\n  constructor(data, options = {}) {\n    const {x, y, inset = 0, insetRight = inset, insetLeft = inset} = options;\n    super(\n      data,\n      {\n        y: {value: y, scale: \"y\"},\n        x: {value: x, scale: \"x\", type: \"band\", optional: true}\n      },\n      options\n    );\n    this.insetRight = number(insetRight);\n    this.insetLeft = number(insetLeft);\n  }\n  _transform(selection, mark, {y}) {\n    selection.call(applyTransform, mark, {y}, 0, offset);\n  }\n  _x1({x}, {x: X}, {marginLeft}) {\n    const {insetLeft} = this;\n    return X && x ? (i) => X[i] + insetLeft : marginLeft + insetLeft;\n  }\n  _x2({x}, {x: X}, {width, marginRight}) {\n    const {insetRight} = this;\n    return X && x ? (i) => X[i] + x.bandwidth() - insetRight : width - marginRight - insetRight;\n  }\n  _y1(scales, {y: Y}) {\n    return (i) => Y[i];\n  }\n  _y2(scales, {y: Y}) {\n    return (i) => Y[i];\n  }\n}\n\nexport function tickX(data, {x = identity, ...options} = {}) {\n  return new TickX(data, {...options, x});\n}\n\nexport function tickY(data, {y = identity, ...options} = {}) {\n  return new TickY(data, {...options, y});\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}